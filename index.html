<!DOCTYPE html><!--HTML5 doctype-->
<html>
<head>
<title>Your New Application</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<style type="text/css">
    /* Prevent copy paste for all elements except text fields */
    *  { -webkit-user-select:none; -webkit-tap-highlight-color:rgba(255, 255, 255, 0); }
    input, textarea  { -webkit-user-select:text; }
    
</style>
<script src="http://debug-software.intel.com/target/target-script-min.js#6d877bc6-d1fa-4553-9f59-18d004864d64"></script>
<script src='cordova.js'></script>
<link rel="stylesheet" href="jquery.mobile-1.3.2.min.css" />
<script src="jquery-1.9.1.min.js"></script>
<script src="jquery.mobile-1.3.2.min.js"></script>
<script type="text/javascript">
/* This function runs once the page is loaded, but appMobi is not yet active */
var onWindowLoad = function(){

};
window.addEventListener("load", onWindowLoad, false);  

/* This code prevents users from dragging the page */
var preventDefaultScroll = function(event) {
    event.preventDefault();
    window.scroll(0,0);
    return false;
};
document.addEventListener('touchmove', preventDefaultScroll, false);

function sendButton(buttonName) {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
        if (this.readyState == 4 /* this.DONE */) {
            if (this.status == 200) {
                console.log('SENT!');
            }
        }
    };
    xhr.open("POST", "http://10.3.71.190:8060/keypress/" + buttonName);
    xhr.send();
}
   
var onDeviceReady=function() {
    $('#connectButton').click(function () {
        $.mobile.changePage($('#controlsPage'), { transition: 'slide' });
    });
    
    document.getElementById('backButton').addEventListener('click', sendButton.bind(null, 'Back'), false);
    document.getElementById('upButton').addEventListener('click', sendButton.bind(null, 'Up'), false);
    document.getElementById('downButton').addEventListener('click', sendButton.bind(null, 'Down'), false);
    document.getElementById('leftButton').addEventListener('click', sendButton.bind(null, 'Left'), false);
    document.getElementById('rightButton').addEventListener('click', sendButton.bind(null, 'Right'), false);
};
document.addEventListener("deviceready", onDeviceReady, false);

</script>

</head>
<body>
    <div data-role="page" id="mainPage">
    
        <div data-role="header">
            <h1>Roku Remote</h1>
        </div><!-- /header -->
    
        <div data-role="content">
            <p style="padding-top: 33%">Enter IP address of the Roku: </p>
            <input type="text" placeholder="IP" name="number" pattern="[0-9]*" id="ip-address" value="">
            <a id="connectButton" href="#" data-role="button" data-mini="true" data-inline="true" data-icon="check" data-theme="b">Connect</a>
        </div><!-- /content -->
    
        <div data-role="footer">
        </div><!-- /footer -->
    </div><!-- /page -->
    
    <div data-role="page" id="controlsPage">
    
        <div data-role="header">
            <h1>Roku Remote</h1>
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="grid">Apps</a></li>
                    <li><a href="#" data-icon="star" class="ui-btn-active">Remote</a></li>
                </ul>
            </div>
        </div><!-- /header -->

        <div data-role="content">
            <p style="padding-top: 33%">Enter IP address of the Roku: </p>
       </div><!-- /content -->
    
        <div data-role="footer">
        </div><!-- /footer -->
    </div><!-- /page -->

</body>
</html>
